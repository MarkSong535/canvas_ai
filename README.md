# Canvas Student Agent

ä¸€ä¸ªåŸºäº OpenAI çš„ Canvas LMS æ™ºèƒ½åŠ©æ‰‹ï¼Œä¸“ä¸ºå­¦ç”Ÿè®¾è®¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“ **å­¦ç”Ÿæƒé™**ï¼šä¸“é—¨é’ˆå¯¹å­¦ç”Ÿçº§åˆ«çš„ Canvas API è®¿é—®æƒé™
- ğŸ¤– **æ™ºèƒ½å¯¹è¯**ï¼šåŸºäº OpenAI GPT-4o çš„è‡ªç„¶è¯­è¨€äº¤äº’
- ğŸ› ï¸ **22+ APIå·¥å…·**ï¼šæ¶µç›–è¯¾ç¨‹ã€ä½œä¸šã€æ–‡ä»¶ã€è®¨è®ºç­‰æ ¸å¿ƒåŠŸèƒ½
- ğŸ’¬ **äº¤äº’å¼æ§åˆ¶å°**ï¼šç¾è§‚çš„å‘½ä»¤è¡Œç•Œé¢ï¼Œæ”¯æŒå®æ—¶å¯¹è¯
- ğŸ” **å®‰å…¨é…ç½®**ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†æ•æ„Ÿä¿¡æ¯

## Canvas API å·¥å…·åˆ—è¡¨

### ğŸ“š è¯¾ç¨‹ç®¡ç†
- `canvas_list_courses` - è·å–è¯¾ç¨‹åˆ—è¡¨
- `canvas_get_modules` - è·å–è¯¾ç¨‹æ¨¡å—
- `canvas_get_module_items` - è·å–æ¨¡å—å†…å®¹é¡¹

### ğŸ“ ä½œä¸šä¸æäº¤
- `canvas_get_assignments` - è·å–ä½œä¸šåˆ—è¡¨
- `canvas_submit_assignment` - æäº¤ä½œä¸š

### ğŸ“ æ–‡ä»¶ç®¡ç†
- `canvas_get_files` - è·å–æ–‡ä»¶åˆ—è¡¨
- `canvas_get_file_info` - è·å–æ–‡ä»¶è¯¦ç»†ä¿¡æ¯
- `canvas_download_file` - ä¸‹è½½æ–‡ä»¶
- `canvas_get_folders` - è·å–æ–‡ä»¶å¤¹åˆ—è¡¨
- `canvas_get_folder_files` - è·å–æ–‡ä»¶å¤¹å†…æ–‡ä»¶
- `canvas_search_files` - æœç´¢æ–‡ä»¶

### ğŸ’¬ è®¨è®ºä¸å…¬å‘Š
- `canvas_get_discussions` - è·å–è®¨è®ºè¯é¢˜
- `canvas_post_discussion` - å‘å¸ƒè®¨è®ºå›å¤
- `canvas_get_announcements` - è·å–å…¬å‘Š

### ğŸ“– è¯¾ç¨‹å†…å®¹
- `canvas_get_pages` - è·å–é¡µé¢åˆ—è¡¨
- `canvas_get_page_content` - è·å–é¡µé¢å†…å®¹

### ğŸ“Š æˆç»©ä¸æ—¥ç¨‹
- `canvas_get_grades` - è·å–æˆç»©
- `canvas_get_calendar_events` - è·å–æ—¥å†äº‹ä»¶
- `canvas_get_todo_items` - è·å–å¾…åŠäº‹é¡¹
- `canvas_get_upcoming_events` - è·å–å³å°†åˆ°æ¥çš„äº‹ä»¶

### ğŸ“ æµ‹éªŒä¸å°ç»„
- `canvas_get_quizzes` - è·å–æµ‹éªŒåˆ—è¡¨
- `canvas_get_groups` - è·å–å°ç»„åˆ—è¡¨

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒé…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼Œå¹¶é…ç½® OpenAI æ¨¡å‹ï¼š

```env
# OpenAI å®˜æ–¹ API
OPENAI_API_KEY=your-openai-api-key
# OPENAI_API_BASE=https://api.openai.com/v1           # å¦‚éœ€è‡ªå®šä¹‰åŸºåœ°å€
# OPENAI_ORGANIZATION=org-id                           # å¯é€‰
# OPENAI_PROJECT=project-id                            # å¯é€‰

# Canvas LMS é…ç½®
CANVAS_URL=https://your-school.instructure.com
CANVAS_ACCESS_TOKEN=your-canvas-token-here
```

### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 3. å¯åŠ¨äº¤äº’å¼æ§åˆ¶å°

```bash
python canvas_chat.py
```

## è·å– Canvas Access Token

1. ç™»å½•æ‚¨çš„ Canvas è´¦æˆ·
2. ç‚¹å‡»å·¦ä¾§èœå•çš„ **Account**ï¼ˆè´¦æˆ·ï¼‰
3. é€‰æ‹© **Settings**ï¼ˆè®¾ç½®ï¼‰
4. æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨ï¼Œæ‰¾åˆ° **Approved Integrations**ï¼ˆå·²æ‰¹å‡†çš„é›†æˆï¼‰
5. ç‚¹å‡» **+ New Access Token**ï¼ˆæ–°å»ºè®¿é—®ä»¤ç‰Œï¼‰
6. å¡«å†™ç”¨é€”è¯´æ˜ï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆå¯é€‰ï¼‰
7. ç‚¹å‡» **Generate Token**ï¼ˆç”Ÿæˆä»¤ç‰Œï¼‰
8. **ç«‹å³å¤åˆ¶ä»¤ç‰Œ**ï¼ˆå…³é—­çª—å£åå°†æ— æ³•å†æ¬¡æŸ¥çœ‹ï¼‰

## ä½¿ç”¨ç¤ºä¾‹

### æ–¹å¼ 1: äº¤äº’å¼æ§åˆ¶å°

```bash
python canvas_chat.py
```

åŸºç¡€å¯¹è¯ï¼š
```
ç”¨æˆ·: æˆ‘æœ‰å“ªäº›è¯¾ç¨‹ï¼Ÿ
åŠ©æ‰‹: [åˆ—å‡ºæ‰€æœ‰è¯¾ç¨‹]

ç”¨æˆ·: å¸®æˆ‘çœ‹çœ‹æ•°æ®ç»“æ„è¯¾ç¨‹çš„ä½œä¸š
åŠ©æ‰‹: [æ˜¾ç¤ºä½œä¸šåˆ—è¡¨åŠæˆªæ­¢æ—¥æœŸ]
```

æ–‡ä»¶æ“ä½œï¼š
```
ç”¨æˆ·: æœç´¢æ‰€æœ‰PDFæ–‡ä»¶
åŠ©æ‰‹: [æ˜¾ç¤ºPDFæ–‡ä»¶åˆ—è¡¨]

ç”¨æˆ·: ä¸‹è½½æ–‡ä»¶ 12345
åŠ©æ‰‹: [ä¸‹è½½å¹¶æ˜¾ç¤ºæ–‡ä»¶å†…å®¹æˆ–é“¾æ¥]
```

ä½œä¸šç®¡ç†ï¼š
```
ç”¨æˆ·: æˆ‘æœ‰ä»€ä¹ˆå¾…åŠäº‹é¡¹ï¼Ÿ
åŠ©æ‰‹: [æ˜¾ç¤ºå¾…åŠäº‹é¡¹åˆ—è¡¨]

ç”¨æˆ·: æäº¤ä½œä¸š1ï¼Œå†…å®¹æ˜¯...
åŠ©æ‰‹: [æäº¤ä½œä¸š]
```

### æ–¹å¼ 2: æµ‹è¯•ç¤ºä¾‹è„šæœ¬

#### ä½¿ç”¨ Agent è¿›è¡Œå®Œæ•´æµ‹è¯•

```bash
# äº¤äº’å¼æµ‹è¯•ï¼ˆæ¨èï¼‰
python examples/test_file_download.py

# å¿«é€Ÿä¸‹è½½æŒ‡å®šæ–‡ä»¶
python examples/test_file_download.py <file_id>
```

#### ç›´æ¥æµ‹è¯• API å·¥å…·

```bash
# äº¤äº’å¼æµ‹è¯•æ‰€æœ‰æ–‡ä»¶æ“ä½œ
python examples/direct_file_download_test.py

# å¿«é€Ÿæµ‹è¯•æŒ‡å®šæ–‡ä»¶ä¸‹è½½
python examples/direct_file_download_test.py <file_id>
```

**æµ‹è¯•æµç¨‹ç¤ºä¾‹ï¼š**
1. åˆ—å‡ºæ‰€æœ‰è¯¾ç¨‹
2. é€‰æ‹©è¯¾ç¨‹æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨
3. è·å–æ–‡ä»¶è¯¦ç»†ä¿¡æ¯
4. ä¸‹è½½æ–‡ä»¶ï¼ˆæ”¯æŒæ–‡æœ¬ã€PDFã€å›¾ç‰‡ç­‰å¤šç§æ ¼å¼ï¼‰
5. æœç´¢ç‰¹å®šå…³é”®è¯çš„æ–‡ä»¶

## æŠ€æœ¯æ¶æ„

- **æ¡†æ¶**: è‡ªå®šä¹‰ Agent Framework
- **AI æ¨¡å‹**: OpenAI GPT-4o / å…¶ä»–å…¼å®¹æ¨¡å‹
- **å¼‚æ­¥å¤„ç†**: aiohttp + asyncio
- **ç”¨æˆ·ç•Œé¢**: Rich (ç»ˆç«¯ç¾åŒ–)
- **é…ç½®ç®¡ç†**: python-dotenv

## é¡¹ç›®ç»“æ„

```
agent_framework-main/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ agent/           # Agent æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ tools/           # Canvas API å·¥å…·é›†
â”‚   â”œâ”€â”€ models/          # AI æ¨¡å‹ç®¡ç†
â”‚   â”œâ”€â”€ config/          # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ utils/           # å·¥å…·å‡½æ•°
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ canvas_agent_config.py  # Agent é…ç½®
â”œâ”€â”€ canvas_chat.py       # äº¤äº’å¼æ§åˆ¶å°
â”œâ”€â”€ requirements.txt     # ä¾èµ–åŒ…åˆ—è¡¨
â””â”€â”€ .env                 # ç¯å¢ƒå˜é‡ï¼ˆéœ€è‡ªè¡Œåˆ›å»ºï¼‰
```

## æ³¨æ„äº‹é¡¹

1. **æƒé™é™åˆ¶**ï¼šæ‰€æœ‰å·¥å…·ä»…æ”¯æŒå­¦ç”Ÿæƒé™æ“ä½œ
2. **Token å®‰å…¨**ï¼šåˆ‡å‹¿å°† `.env` æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
3. **API é™åˆ¶**ï¼šæ³¨æ„ Canvas API çš„é€Ÿç‡é™åˆ¶
4. **æ–‡ä»¶ä¸‹è½½**ï¼šæŸäº›æ–‡ä»¶å¯èƒ½å› æƒé™è®¾ç½®æ— æ³•ç›´æ¥ä¸‹è½½

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ‰¾åˆ°æˆ‘çš„ Canvas URLï¼Ÿ
A: æ‚¨è®¿é—® Canvas æ—¶æµè§ˆå™¨åœ°å€æ ä¸­çš„åŸŸåï¼Œä¾‹å¦‚ `https://canvas.university.edu`

### Q: Token è¿‡æœŸäº†æ€ä¹ˆåŠï¼Ÿ
A: é‡æ–°åœ¨ Canvas è®¾ç½®ä¸­ç”Ÿæˆæ–°çš„ Access Tokenï¼Œå¹¶æ›´æ–° `.env` æ–‡ä»¶

### Q: ä¸ºä»€ä¹ˆæ— æ³•ä¸‹è½½æŸäº›æ–‡ä»¶ï¼Ÿ
A: éƒ¨åˆ†æ–‡ä»¶å¯èƒ½è®¾ç½®äº†ç‰¹æ®Šæƒé™ï¼Œéœ€è¦åœ¨ Canvas ç½‘é¡µä¸­ç›´æ¥è®¿é—®

## å¼€æºåè®®

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ ä½¿ç”¨ã€‚

## è”ç³»æ–¹å¼

- GitHub: [@Deyu-Zhang](https://github.com/Deyu-Zhang)
- Email: zdy286004316@gmail.com

